# PID电机角度控制-1Z实验室



## TODO

选择合适的PID参数 -> 同的目标效果



## 电机与编码器模型

PWM控制信号 （为什么要有PWM PWM的范围）

电机驱动链接

**电机的死区问题** ！！！非常重要  PWM小到一定程度之后，就转不动了

> 好像电机也有损害。



AB相编码器 电机转向与转速/旋转角度



> 图A：
>
> 可爱的 各个部件的连接图
>
>  



## 控制目标分析

目标值

实际值

ERROR

 

## 纯比例控制



* 设定不同的P看其效果（） -> P过大 震荡， P过小，不响应 -> 找到P的一个大致合适的范围
* result的范围限定，如果超过一个特定PWM 约束到1024 



## 静差

纯P存在的问题:  error 太小， 导致result（PWM）太小，总是在电机死区范围内。

总不能准确的达到效果



## 引入积分I

**积分就是对error误差项进行积分**

**积分就是惯性力  **

**电机自带惯性属性，但是不强** ？ 电机有没有相关的参数

小误差累积，累加起来就变大了， 开始驱动电机转动

等待一会儿-》 突然旋转 -》 然后就转过头了， 有一定的**延时**属性



I 取大取小之间的关系  效果



PID控制相关参数（时间）





## 引入微分D



阻尼力，避免系统产生快速变化

？error， 什么时候会出现快速的变化：

1. 外部干扰 （人手动旋转电机）
2. 积分I带来的问题



D大了会怎么样？

> ? 静差变大？

